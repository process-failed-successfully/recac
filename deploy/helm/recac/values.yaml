# Default values for recac.

replicaCount: 1

image:
  repository: ghcr.io/process-failed-successfully/recac
  pullPolicy: Always
  tag: latest

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations: {}
  name: ""

rbac:
  create: true

podAnnotations: {}
podSecurityContext: {}
securityContext: {}

service:
  type: ClusterIP
  port: 9090

# Non-sensitive configuration
config:
  provider: openrouter
  model: mistralai/devstral-2512:free
  ollamaBaseUrl: ""
  verbose: true
  metricsPort: 9090
  maxIterations: 20
  managerFrequency: 5
  maxTokens: 32000
  jiraUrl: ""
  jiraUsername: ""
  imagePullPolicy: Always
  poller: "jira"
  work_file: "work_items.json"
  interval: "1m"
  jira_label: "recac-agent"
  jira_query: ""

  # Database Configuration
  dbType: "sqlite" # or "postgres"
  dbUrl: "" # External Database URL (for 'postgres' type)

extraVolumes: []
extraVolumeMounts: []

# Sensitive configuration (to be stored in a Secret)
secrets:
  apiKey: ""
  geminiApiKey: ""
  anthropicApiKey: ""
  cursorApiKey: ""
  openaiApiKey: ""
  openrouterApiKey: ""
  jiraApiToken: ""
  githubToken: ""
  githubApiKey: ""
  githubEmail: ""
  slackBotUserToken: ""
  slackAppToken: ""
  discordBotToken: ""
  discordChannelId: ""

# Mount the Docker socket for running agents
dockerSocket:
  enabled: true
  hostPath: /var/run/docker.sock

# Subcharts
postgresql:
  enabled: false
  auth:
    database: recac
    username: recac
    password: "changeit"
  primary:
    persistence:
      enabled: true
      size: 1Gi

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

nodeSelector: {}
tolerations: []
affinity: {}
